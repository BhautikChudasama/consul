---
layout: docs
page_title: ProxyConfiguration resource configuration reference
description: The ProxyConfiguration resource CRD configures sidecar proxy behavior within the service mesh. Learn how to configure bootstrap and dynamic configurations for proxies according to Workload characteristics with specifications and example configurations.
---

# ProxyConfiguration resource configuration reference

This page provides reference information for the ProxyConfigurations resource, which defines proxy behavior for traffic within the service mesh. The resource specifies both bootstrap and dynamic configurations for proxies.

This custom resource definition (CRD) describes a GAMMA resource that requires the [v2 catalog API](/consul/docs/architecture/catalog/v2). It is not compatible with the [v1 catalog API](/consul/docs/architecture/catalog/v1). For more information about GAMMA resources, refer to the [Kubernetes Gateway API documentation](https://gateway-api.sigs.k8s.io/concepts/gamma/).

## Configuration model

The following list outlines field hierarchy, language-specific data types, and requirements in a ProxyConfiguration CRD. Click on a property name to view additional details, including default values.

<Tabs>

<Tab heading="YAML" group="yaml">

- [`apiVersion`](#apiversion): string | required | must be set to `mesh.consul.hashicorp.com/v2beta1`
- [`kind`](#kind): string | required | must be set to `ProxyConfiguration`
- [`metadata`](#metadata): object | required
  - [`name`](#metadata-name): string | required
  - [`namespace`](#metadata-namespace): string | optional <EnterpriseAlert inline />
- [`spec`](#spec): object | required
  - [`workloads`](#spec-workloads): map
    - [`filter`](#spec-workloads): string
    - [`names`](#spec-workloads): list of strings
    - [`prefixes`](#spec-workloads): array of strings
  - [`bootstrapConfig`](#spec-bootstrapconfig): map
    - [`dogstatsdUrl`](#spec-bootstrapconfig): string
    - [`overrideJsonTpl`](#spec-bootstrapconfig): string
    - [`prometheusBindAddr`](#spec-bootstrapconfig): string
    - [`readyBindAddr`](#spec-bootstrapconfig): string
    - [`staticClustersJson`](#spec-bootstrapconfig): string
    - [`staticListenersJson`](#spec-bootstrapconfig): string
    - [`statsBindAddr`](#spec-bootstrapconfig): string
    - [`statsConfigJson`](#spec-bootstrapconfig): string
    - [`statsFlushInterval`](#spec-bootstrapconfig): string
    - [`statsSinksJson`](#spec-bootstrapconfig): string
    - [`statsTags`](#spec-bootstrapconfig): array of strings
    - [`statsdUrl`](#spec-bootstrapconfig): string
    - [`telemetryCollectorBindSocketDir`](#spec-bootstrapconfig): string
    - [`tracingConfigJson`](#spec-bootstrapconfig): string
  - [`dynamicConfig`](#spec-dynamicconfig): map
    - [`accessLogs`](#spec-dynamicconfig-accesslogs): map
      - [`enabled`](#spec-dynamicconfig-accesslogs-enabled): boolean | `false`
      - [`disableListenerLogs`](#spec-dynamicconfig-accesslogs-disablelistenerlogs): boolean | `false`
      - [`jsonFormat`](#spec-dynamicconfig-accesslogs-jsonformat): string
      - [`path`](#spec-dynamicconfig-accesslogs-path): string
      - [`textFormat`](#spec-dynamicconfig-accesslogs-textformat): string
      - [`type`](#spec-dynamicconfig-accesslogs-type): string
    - [`envoyExtensions`](#spec-dynamicconfig-envoyextensions): map
      - [`arguments`](#spec-dynamicconfig-envoyextensions-arguments): map
      - [`consulVersion`](#spec-dynamicconfig-envoyextensions-consulVersion): string
      - [`envoyVersion`](#spec-dynamicconfig-envoyextensions-envoyVersion): string
      - [`name`](#spec-dynamicconfig-envoyextensions-name): string
      - [`required`](#spec-dynamicconfig-envoyextensions-required): boolean | `false`
    - [`exposeConfig`](#spec-dynamicconfig-exposeconfig): map
      - [`exposePaths`](#spec-dynamicconfig-exposeconfig-exposepaths): map
        - [`listenerPort`](#spec-dynamicconfig-exposeconfig-exposepaths-listenerport): integer
        - [`localPathPort`](#spec-dynamicconfig-exposeconfig-exposepaths-localpathport): integer
        - [`path`](#spec-dynamicconfig-exposeconfig-exposepaths-path): string
        - [`protocol`](#spec-dynamicconfig-exposeconfig-exposepaths-protocol): string
    - [`inboundConnections`](#spec-dynamicconfig-inboundconnections): map
      - [`balanceInboundConnections`](#spec-dynamicconfig-inboundconnections-balanceinboundconnections): string
      - [`maxInboundConnections`](#spec-dynamicconfig-exposeconfig-inboundconnections-maxinboundconnections): integer
    - [`listenerTracingJson`](#spec-dynamicconfig-listenertracingjson): string
    - [`localClusterJson`](#spec-dynamicconfig-localclusterjson): string
    - [`localConnection`](#spec-dynamicconfig-localconnection): map
      - [`connectTimeout`](#spec-dynamicconfig-localconnection-connecttimeout): map
       - [`nanos`](#spec-dynamicconfig-localconnection-connecttimeout): integer
       - [`seconds`](#spec-dynamicconfig-localconnection-connecttimeout): integer
      - [`requestTimeout`](#spec-dynamicconfig-localconnection-requesttimeout): map
       - [`nanos`](#spec-dynamicconfig-localconnection-requesttimeout): integer
       - [`seconds`](#spec-dynamicconfig-localconnection-requesttimeout): integer
    - [`meshGatewayMode`](#spec-dynamicconfig-meshgatewaymode): string
    - [`mode`](#spec-dynamicconfig-mode): string
    - [`mutualTLSMode`](#spec-dynamicconfig-mutualtlsmode): string
    - [`publicListenerJson`](#spec-dynamicconfig-publiclistenerjson): string
    - [`transparentProxy`](#spec-dynamicconfig-transparentproxy): map
      - [`dialedDirectly`](#spec-dynamicconfig-transparentproxy-dialeddirectly): boolean | `false`
      - [`outboundListenerPort`](#spec-dynamicconfig-transparentproxy-outboundlistenerport): integer | `15001`

</Tab>
</Tabs>

## Complete configuration

The complete configuration follows the configuration model. Use tabs for 
each markup language you expect pracitioners to use.

```yaml
element_a: <default or description of value>
element_b:
element_bb: <default or description of value>
element_bbb:
element_bbba: <default or description of value>
element_bbbb: <default or description of value>
element_bbbc:
element_bbbd: <default or description of value>
``` 

## Specification

This section provides details about the fields you can configure in the ProxyConfiguration custom resource definition (CRD).

### `apiVersion`

Specifies the version of the Consul API for integrating with Kubernetes. The value must be `mesh.consul.hashicorp.com/v2beta1`.

#### Values

- Default: None
- This field is required.
- String value that must be set to `mesh.consul.hashicorp.com/v2beta1`.

### `kind`

Specifies the type of CRD to implement. Must be set to `ProxyConfiguration`.

#### Values

- Default: None
- This field is required.
- Data type: String value that must be set to `ProxyConfiguration`.

### `metadata`

Map that contains an arbitrary name for the CRD and the namespace it applies to.

#### Values

- Default: None
- Data type: Map

### `metadata.name`

Specifies a name for the CRD. The name is metadata that you can use to reference the resource when performing Consul operations, such as using the `consul resource` command. Refer to [`consul resource`](/consul/docs/k8s/connect/multiport/reference/resource-command) for more information.

#### Values

- Default: None
- This field is required.
- Data type: String

### `metadata.namespace` <EnterpriseAlert inline />

Specifies the namespace that the service resolver applies to. Refer to [namespaces](/consul/docs/enterprise/namespaces) for more information.

#### Values

- Default: None
- Data type: String

### `spec`

Map that contains the details about the `ProxyConfiguration` CRD. The `apiVersion`, `kind`, and `metadata` fields are siblings of the spec field. All other configurations are children.

When using this CRD, the `spec` field must align with GAMMAs resource. Refer to [HTTPRoute in the Kubernetes documentation](https://gateway-api.sigs.k8s.io/references/spec/#gateway.networking.k8s.io/v1alpha2.HTTPRoute).

#### Values

- Default: None
- This field is required.
- Data type: Map

### `spec`

#### Values

- Default: None
- Data type: Map

## Examples

If you have more than one example to show, create an Examples section 
(general block) and introduce the examples per the style guide.

### Specific use case 

Introduce examples clearly and help readers understand the connections 
between the example snippet and the configuration element you are trying to 
explain. Use phrases such as "In the following example, the `elem` performs 
some action on a service named `service-name`". 


```yaml
[Example goes here]
```
