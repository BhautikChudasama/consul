{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

<!-- from the GET request we'll get the resourceId-->
{{#let @list (env "CONSUL_HCP_URL") as |SNL hcpUrl|}}
    {{#if this.shouldShowBackToHcpItem}}
        <SNL.BackLink
                @text={{t "components.hashicorp-consul.side-nav.hcp"}}
                @href={{hcpUrl}}
                @isHrefExternal={{true}}
                data-test-back-to-hcp
        />
    {{else}}
        {{#if this.shouldDisplayNavLinkItem}}
            {{#if this.alreadyLinked}}
                <SNL.Link
                        @text="HCP Consul Central"
                        @href={{hcp-resource-id-to-link @linkData.resourceId}}
                        @isHrefExternal={{true}}
                        data-test-linked-cluster-hcp-link
                />
            {{else}}
                <SNL.Item class="hcp-nav-item" data-test-link-to-hcp>
                    <button class="hds-side-nav__list-item-link hcp-nav-item" {{on "click" this.onLinkToConsulCentral}}>
                        {{#if this.shouldDisplayNewBadge}}
                            <Hds::Badge @text="New" @color="highlight" data-test-link-to-hcp-new-badge/>
                        {{/if}}
                        <Hds::Text::Display @size='100'>Link to HCP Consul Central</Hds::Text::Display>
                        <FlightIcon class='w-4 h-4' @size='24' @name='arrow-right'/>
                    </button>
                </SNL.Item>
            {{/if}}
        {{/if}}
    {{/if}}
{{/let}}